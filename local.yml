---
- name: make Arch comfy
  hosts: localhost
  become: true

  tasks:
    - name: install core utilities
      community.general.pacman:
        name: base-devel git
        state: present

    - name: clone Yay
      become: josh
      ansible.builtin.git:
        repo: 'https://aur.archlinux.org/yay.git'
        dest: ~/yay

    - name: install Yay
      become: josh
      ansible.builtin.command:
        cmd: cd ~/yay && makepkg -si

    - name: install UI packages
      community.general.pacman:
        name: alacritty firefox noto-fonts-emoji noto-fonts-emoji sway pulseaudio otf-font-awesome ttf-croscore cups playerctl
        state: present

    - name: install tools
      community.general.pacman:
        name: virtualbox cups
        state: present

